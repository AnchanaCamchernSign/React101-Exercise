<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function getData() {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (Math.random() > 0.5) {
                        resolve("Here is your data")
                    } else {
                        reject("Sorry, there was a error")
                    }
                }, 2000);
            })
        }

        function processData(data) {
            return new Promise((resolve) => {
                let processData = data.toUpperCase()
                resolve(processData)
            })
        }

        function processData2(data) {
            console.log(`Data resived by processData2: , ${data}`);
        }


        // Homework
        // 1. handing Promise with async / await
        // getData('Hi this is me a Bobby fgrom my house')
        //cd , call back
        getData()
            .then((value) => {
                processData(value).then((value2) => {
                    processData2(value2)
                }).catch((error) => {

                })
            })
            .catch((error) => { })
            .finally(() => { })

        // 2. handling Promise with async / await
        async function run() {
            try {
                const value = await getData()
                const value2 = await processData(value)
                processData2(value2)
            } catch (error) {
                console.log(error);
            }
        }

        Promise.all([
            getData(), //1 s
            processData('') // 2 s
        ]).then([valueGetData, valueProcessData]) // 3 s

        Promise.race([
            getData(), // 1s
            processData('') // 2 s
        ]).then([valueGetData, valueProcessData]) // 2s
    </script>
</body>

</html>